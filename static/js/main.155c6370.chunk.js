(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{39:function(e,t,n){e.exports=n(67)},44:function(e,t,n){},65:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(19),i=n.n(o),l=(n(44),n(7)),s=n(8),c=n(10),u=n(9),p=n(11),d=n(70),h=n(71),m=n(4),f=n(5),g=n(34),y=n.n(g),b=n(24),v=n(69);function x(){var e=Object(m.a)(['\n  font-family: "Helvetica", sans-serif;\n  font-size: 14px;\n  text-transform: uppercase;\n  border: 1px solid black;\n  border-radius: 20px;\n  padding: 10px;\n  margin: 7px 0px;\n  &:hover {\n    color: #EFEFEF;\n    background-color: black;\n  }\n']);return x=function(){return e},e}function j(){var e=Object(m.a)(["\n  padding: 7px;\n  margin: 7px 0px;\n  @media (max-width: 600px) {\n    width: 80%\n  }\n"]);return j=function(){return e},e}function O(){var e=Object(m.a)(['\n  font-family: "Lily Script One", cursive;\n  font-family: "Helvetica", sans-serif;\n  font-size: 14px;\n  letter-spacing: 2px;\n  text-align: left;\n  margin: 0px;\n']);return O=function(){return e},e}function E(){var e=Object(m.a)(['\n  font-family: "Helvetica", sans-serif;\n  font-size: 14px;\n  letter-spacing: 2px;\n  text-transform: uppercase;\n  text-align: right;\n  margin: 10px;\n']);return E=function(){return e},e}var w=f.a.h4(E()),k=f.a.label(O()),S=f.a.input(j()),C=f.a.button(x()),T=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",isLoggedIn:!1},n.handleFormUpdate=function(e){n.setState(Object(b.a)({},e.target.name,e.target.value))},n.submitForm=function(e){e.preventDefault();var t={username:n.state.username,password:n.state.password};fetch("https://collect-the-stars.herokuapp.com/sessions",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){sessionStorage.setItem("accessToken",e.accessToken),n.setState({isLoggedIn:!0,collectedStars:e.collectedStars},function(){n.props.onLogin(n.state.isLoggedIn,n.state.collectedStars)})}).catch(function(e){console.log(e)})},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(w,null,"LOG IN"),r.a.createElement("form",{className:"loginForm",onSubmit:this.submitForm},r.a.createElement(k,{htmlFor:"username"},"Username: "),r.a.createElement(S,{name:"username",type:"text",onChange:this.handleFormUpdate}),r.a.createElement("br",null),r.a.createElement(k,{htmlFor:"password"},"Password: "),r.a.createElement(S,{name:"password",type:"password",onChange:this.handleFormUpdate}),r.a.createElement("br",null),r.a.createElement(C,{type:"submit"},"Submit")),this.state.isLoggedIn?r.a.createElement(v.a,{to:"/location"}):null)}}]),t}(a.Component);function F(){var e=Object(m.a)(['\n  font-family: "Helvetica", sans-serif;\n  font-size: 14px;\n  text-transform: uppercase;\n  border: 1px solid black;\n  border-radius: 20px;\n  padding: 10px;\n  margin: 7px 0px;\n  &:hover {\n    color: #EFEFEF;\n    background-color: black;\n  }\n']);return F=function(){return e},e}function L(){var e=Object(m.a)(["\n  padding: 7px;\n  margin: 7px 0px;\n  @media (max-width: 600px) {\n    width: 75%\n  }\n"]);return L=function(){return e},e}function I(){var e=Object(m.a)(['\n  font-family: "Lily Script One", cursive;\n  font-family: "Helvetica", sans-serif;\n  font-size: 14px;\n  letter-spacing: 2px;\n  text-align: left;\n  margin: 0px;\n']);return I=function(){return e},e}function z(){var e=Object(m.a)(['\n  font-family: "Helvetica", sans-serif;\n  font-size: 14px;\n  letter-spacing: 2px;\n  text-transform: uppercase;\n  text-align: right;\n  margin: 10px;\n']);return z=function(){return e},e}var A=f.a.h4(z()),M=f.a.label(I()),D=f.a.input(L()),N=f.a.button(F()),H=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",isLoggedIn:!1},n.handleFormUpdate=function(e){n.setState(Object(b.a)({},e.target.name,e.target.value))},n.submitForm=function(e){e.preventDefault();var t={username:n.state.username,password:n.state.password};fetch("https://collect-the-stars.herokuapp.com/users",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){!0===e.created?(console.log("Success:",JSON.stringify(e)),n.setState({isLoggedIn:!0},function(){n.props.onLogin(n.state.isLoggedIn)})):console.log("Failure:",JSON.stringify(e))}).catch(function(e){console.log(e)})},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(A,null,"NEW USER"),r.a.createElement("form",{className:"signupForm",onSubmit:this.submitForm},r.a.createElement(M,{htmlFor:"username"},"Username: "),r.a.createElement(D,{name:"username",type:"text",onChange:this.handleFormUpdate}),r.a.createElement("br",null),r.a.createElement(M,{htmlFor:"password"},"Password: "),r.a.createElement(D,{name:"password",type:"password",onChange:this.handleFormUpdate}),r.a.createElement("br",null),r.a.createElement(N,{type:"submit"},"Submit")),this.state.isLoggedIn?r.a.createElement(v.a,{to:"/location"}):null)}}]),t}(a.Component);function W(){var e=Object(m.a)(['\n  width: 60%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  font-family: "Helvetica", sans-serif;\n  font-size: 14px;\n  color: #F0F0F0;\n  text-align: center;\n  padding: 0px;\n  margin: 40px auto;\n  @media (max-width: 600px) {\n    width: 80%\n    justify-content: space-between;\n  }\n']);return W=function(){return e},e}function U(){var e=Object(m.a)(['\n  font-family: "Helvetica", sans-serif;\n  font-size: 30px;\n  color: #F0F0F0;\n  text-align: center;\n  padding: 0px;\n  margin: 0px;\n  @media (max-width: 600px) {\n    font-size: 20px;\n    margin: 0px 10px;\n  }\n']);return U=function(){return e},e}function P(){var e=Object(m.a)(['\n  font-family: "Lily Script One", cursive;\n  font-size: 100px;\n  color: #F0F0F0;\n  letter-spacing: 3px;\n  text-align: center;\n  padding-top: 150px;\n  margin: 0px;\n  @media (max-width: 600px) {\n    font-size: 50px;\n    margin: 0px 10px;\n    padding-top: 50px;\n  }\n']);return P=function(){return e},e}function J(){var e=Object(m.a)(["\n  position: relative;\n  width: 100%;\n  margin: 0px auto;\n  z-index: 2;\n"]);return J=function(){return e},e}function G(){var e=Object(m.a)(['\n  width: 100vw;\n  height: calc(100vh - 30px);\n  background-image: url("https://i.pinimg.com/originals/82/2d/fc/822dfcf697e7473a61897965791da389.jpg");\n  background-size: cover;\n  filter: opacity(0.8);\n  position: relative;\n']);return G=function(){return e},e}var _=f.a.div(G()),R=f.a.div(J()),V=f.a.h1(P()),Y=f.a.h3(U()),B=f.a.div(W()),K={particles:{number:{value:80,density:{enable:!0,value_area:1500}},color:{value:"#FFFFFF"},line_linked:{enable:!0,opacity:.5},move:{direction:"right",speed:.4},size:{value:1.5},opacity:{anim:{enable:!0,speed:1,opacity_min:1}}},retina_detect:!0},X={position:"absolute",width:"100%",height:"100%","z-index":1},Z=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return console.log(window.innerWidth),r.a.createElement(_,null,r.a.createElement(y.a,{params:K,style:X}),r.a.createElement(R,null,r.a.createElement(V,null,"Collect the stars"),r.a.createElement(Y,null,"Predict which stars will be in your sky tonight"),r.a.createElement(B,null,r.a.createElement(T,{onLogin:this.props.onLogin}),r.a.createElement(H,{onLogin:this.props.onLogin}))))}}]),t}(a.Component);function q(){var e=Object(m.a)(['\ncolor: black;\nfont-family: "Space Mono", "Helvetica", sans-serif;\nfont-size: 20px;\nmargin: 20px;\n']);return q=function(){return e},e}var Q=f.a.p(q()),$=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Q,null,this.props.text))}}]),t}(a.Component),ee=n(23),te=n(21),ne=n(1),ae=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.renderAxis()}},{key:"renderAxis",value:function(){var e=te.a().scale(this.props.scales.xScale).tickSize(-(this.props.svgDimensions.height-this.props.margins.top-this.props.margins.bottom)).tickPadding([12]).ticks([6]);Object(ne.f)(this.axisElement).call(e)}},{key:"render",value:function(){var e=this;return r.a.createElement("g",{className:"Axis Axis-Bottom",ref:function(t){e.axisElement=t},transform:"translate(0, ".concat(this.props.svgDimensions.height-this.props.margins.bottom,")")})}}]),t}(a.Component),re=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.renderAxis()}},{key:"renderAxis",value:function(){var e=te.b().scale(this.props.scales.yScale).tickSize(-(this.props.svgDimensions.width-this.props.margins.left-this.props.margins.right)).tickPadding([12]).ticks([6]);Object(ne.f)(this.axisElement).call(e)}},{key:"render",value:function(){var e=this;return r.a.createElement("g",{className:"Axis Axis-Left",ref:function(t){e.axisElement=t},transform:"translate(".concat(this.props.margins.left,", 0)")})}}]),t}(a.Component);function oe(){var e=Object(m.a)(["\n  fill: url(#myGradient);\n  transition: all 1s;\n  opacity: 0.9;\n"]);return oe=function(){return e},e}var ie=f.a.rect(oe()),le=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.scales,n=e.margins,a=e.data,o=e.svgDimensions,i=t.xScale,l=t.yScale,s=o.height,c=a.map(function(e){return r.a.createElement(ie,{key:e.day,x:i(e.day),y:l(e.clouds),height:s-n.bottom-t.yScale(e.clouds),width:i.bandwidth()})});return r.a.createElement("g",null,c)}}]),t}(a.Component),se=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).data=[{clouds:0,day:"tonight"},{clouds:0,day:"tomorrow night"},{clouds:0,day:"in 2 nights"},{clouds:0,day:"in 3 nights"},{clouds:0,day:"in 4 nights"}],n.chartWidth=function(){return window.innerWidth<900?window.innerWidth-20:(window.innerWidth-20)/2},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e,t){e.data!==this.props.data&&(this.data=[{clouds:this.props.data[0],day:"tonight"},{clouds:this.props.data[1],day:"tomorrow night"},{clouds:this.props.data[2],day:"in 2 nights"},{clouds:this.props.data[3],day:"in 3 nights"},{clouds:this.props.data[4],day:"in 4 nights"}])}},{key:"render",value:function(){var e={top:50,right:50,bottom:50,left:50},t={width:this.chartWidth(),height:400},n=Object(ee.a)().padding(.5).domain(this.data.map(function(e){return e.day})).range([e.left,t.width-e.right]),a=Object(ee.b)().domain([0,100]).range([t.height-e.bottom,e.top]);return r.a.createElement("svg",{width:t.width,height:t.height},r.a.createElement(ae,{scales:{xScale:n,yScale:a},margins:e,svgDimensions:t}),",",r.a.createElement(re,{scales:{xScale:n,yScale:a},margins:e,svgDimensions:t}),",",r.a.createElement(le,{scales:{xScale:n,yScale:a},margins:e,data:this.data,svgDimensions:t}),r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:"myGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%"},r.a.createElement("stop",{offset:"0%",className:"start"}),r.a.createElement("stop",{offset:"100%",className:"end"}))))}}]),t}(a.Component),ce=n(28),ue=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={lng:18.06324,lat:59.334591},n.updateCoords=function(e,t,a){var r=a.latLng,o=r.lat(),i=r.lng();n.setState({lng:i,lat:o},function(){return n.props.updateCoords(o,i)})},n.styles=[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#263c3f"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#6b9a76"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#9ca5b3"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#746855"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#1f2835"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#f3d19c"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#2f3948"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#515c6d"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#17263c"}]}],n.mapWidth=function(){return window.innerWidth<900?"100%":"50%"},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState({lng:this.props.lng,lat:this.props.lat})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ce.Map,{google:this.props.google,containerStyle:{width:this.mapWidth(),height:"calc(100% - 30px)"},initialCenter:{lat:this.state.lat,lng:this.state.lng},zoom:5,onClick:this.updateCoords,styles:this.styles},r.a.createElement(ce.Marker,{icon:{url:"http://maps.google.com/mapfiles/ms/icons/blue-dot.png"},position:{lat:this.state.lat,lng:this.state.lng},mapCenter:{lat:this.state.lat,lng:this.state.lng}})))}}]),t}(a.Component),pe=Object(ce.GoogleApiWrapper)({apiKey:"AIzaSyA6g_kl3pYSj2LZmS4SXoYzGpIPJA_MxeY"})(ue);function de(){var e=Object(m.a)(["\n  width: 50%;\n  height: 100%;\n  background-color: #EFEFEF;\n  @media (max-width: 900px) {\n    width: 100%;\n  }\n"]);return de=function(){return e},e}function he(){var e=Object(m.a)(['\n  margin: 20px 20px 0px 20px;\n  font-family: "Space Mono", sans-serif;\n  font-size: 14px;\n  color: black;\n  text-align: left;\n']);return he=function(){return e},e}function me(){var e=Object(m.a)(["\n  width: 50%;\n  background-color: #EFEFEF;\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: space-around;\n  align-items: center;\n  @media (max-width: 900px) {\n    width: 100%;\n  }\n"]);return me=function(){return e},e}function fe(){var e=Object(m.a)(["\n  width: 100vw;\n  min-height: calc(100vh - 30px);\n  display: flex;\n  flex-direction: row;\n  overflow: hidden;\n  @media (max-width: 900px) {\n    flex-direction: column;\n  }\n"]);return fe=function(){return e},e}var ge=f.a.div(fe()),ye=f.a.div(me()),be=f.a.div(he()),ve=f.a.div(de()),xe=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={lat:0,lng:0,weatherMessage:"",midnightCloudCover:[]},n.updateCoords=function(e,t){n.setState({lat:e,lng:t},function(){return n.props.updateCoords(n.state.lat,n.state.lng)})},n.getWeather=function(){fetch("https://api.openweathermap.org/data/2.5/forecast?lat=".concat(n.state.lat,"&lon=").concat(n.state.lng,"&APPID=ee4066bbc82305811aecd61e6c30d861")).then(function(e){return e.json()}).then(function(e){if(void 0!==e.list){var t=e.list.filter(function(e){return/00:00:00/.test(e.dt_txt)}).map(function(e){return e.clouds.all});n.setState({midnightCloudCover:t}),console.log(t)}}).then(function(){var e="";e=n.state.midnightCloudCover[0]<50?"Good news! Looks like it will be a clear sky at midnight tonight - perfect for seeing the stars.":n.state.midnightCloudCover[1]<50?"There's a ".concat(n.state.midnightCloudCover[0],"% chance of clouds tonight. It looks like it will be a clearer sky tomorrow night."):n.state.midnightCloudCover[2]<50?"There's a ".concat(n.state.midnightCloudCover[0],"% chance of clouds tonight. It looks like it will be a clearer sky in 2 nights."):n.state.midnightCloudCover[3]<50?"There's a ".concat(n.state.midnightCloudCover[0],"% chance of clouds tonight. It looks like it will be a clearer sky in 3 nights."):n.state.midnightCloudCover[4]<50?"There's a ".concat(n.state.midnightCloudCover[0],"% chance of clouds tonight. It looks like it will be a clearer sky in 4 nights."):"Looks like it wll be cloudy for the next 5 nights. Netflix?",n.setState({weatherMessage:e})}).catch(function(e){return console.log("err:",e)})},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e,t){t.lat!==this.state.lat&&this.getWeather()}},{key:"componentDidMount",value:function(){this.setState({lat:this.props.lat,lng:this.props.lng}),this.getWeather()}},{key:"render",value:function(){return r.a.createElement(ge,null,r.a.createElement(ye,null,r.a.createElement($,{text:this.state.weatherMessage}),r.a.createElement(be,null,"Chances of clouds"),r.a.createElement(se,{data:this.state.midnightCloudCover})),r.a.createElement(ve,null,r.a.createElement(pe,{lat:this.state.lat,lng:this.state.lng,updateCoords:this.updateCoords})))}}]),t}(a.Component);function je(){var e=Object(m.a)(['\n  color: black;\n  font-family: "Space Mono", "Helvetica", sans-serif;\n  font-size: 20px;\n  margin: 20px;\n  text-align: left;\n']);return je=function(){return e},e}var Oe=f.a.p(je()),Ee=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Oe,null,"There are 88 recognised constellations in the night sky.",r.a.createElement("br",null),r.a.createElement("br",null),"Tonight you'll see ",this.props.numVisibleStars," constellations. That's ",this.props.numMissingStars," star constellations you haven't collected yet!"))}}]),t}(a.Component);function we(){var e=Object(m.a)(["\n  width: 33.33%;\n  object-fit: contain;\n  object-position: center;\n  display: inline;\n  min-width: 150px;\n  filter: ",";\n"]);return we=function(){return e},e}var ke=f.a.img(we(),function(e){return e.collectedStars?"opacity(0.25)":"opacity(1)"}),Se=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onClick=function(e){n.props.onClick(n.props.constellation)},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(ke,{collectedStars:this.props.collectedStars.includes(this.props.constellation),src:"./images/"+this.props.constellation+".png",alt:this.props.constellation,onClick:this.onClick})}}]),t}(a.Component),Ce=n(26);function Te(){var e=Object(m.a)(["\n  transition: all 1s;\n"]);return Te=function(){return e},e}var Fe=f.a.path(Te()),Le=function(e){var t=Ce.a().innerRadius(65).outerRadius(130),n=["#a0ced9","#83a9b2"];return e.pie.map(function(e,a){return r.a.createElement(Fe,{d:t(e),fill:n[a],key:a})})},Ie=function(e){var t=Ce.b()(e.data);return r.a.createElement("svg",{height:400,width:500},r.a.createElement("g",{transform:"translate(".concat(250,",").concat(200,")")},r.a.createElement(Le,{pie:t})))};function ze(){var e=Object(m.a)(['\n  display: inline-block;\n  font-family: "Space Mono", sans-serif;\n  font-size: 12px;\n']);return ze=function(){return e},e}function Ae(){var e=Object(m.a)(["\n  height: 10px;\n  width: 10px;\n  display: inline-block;\n  background-color: ",";\n"]);return Ae=function(){return e},e}var Me=f.a.div(Ae(),function(e){return e.collected?"#a0ced9":"#83a9b2"}),De=f.a.div(ze()),Ne=function(){return r.a.createElement("div",null,r.a.createElement(Me,{collected:!0})," ",r.a.createElement(De,null,"Constellations you've collected"),r.a.createElement("br",null),r.a.createElement(Me,{colected:!1})," ",r.a.createElement(De,null,"Constellations you haven't collected yet"))};function He(){var e=Object(m.a)(['\n  width: 50%;\n  height: 100%;\n  overflow: scroll;\n  line-height: 0px;\n  background-image: url("http://cdn.eso.org/images/screen/magellan-ch17-bardon-cc.jpg");\n  background-position: left top;\n  text-align: center;\n  @media (max-width: 900px) {\n    width: 100%;\n  }\n']);return He=function(){return e},e}function We(){var e=Object(m.a)(['\n  margin: 20px 20px 0px 20px;\n  font-family: "Space Mono", sans-serif;\n  font-size: 14px;\n  color: black;\n  text-align: left;\n']);return We=function(){return e},e}function Ue(){var e=Object(m.a)(["\n  width: 50%;\n  background-color: #EFEFEF;\n  text-align: center;\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: space-around;\n  align-items: center;\n  @media (max-width: 900px) {\n    width: 100%;\n  }\n"]);return Ue=function(){return e},e}function Pe(){var e=Object(m.a)(["\n  width: 100vw;\n  height: calc(100vh - 30px);\n  display: flex;\n  flex-direction: row;\n  overflow: hidden;\n  @media (max-width: 900px) {\n    height: auto;\n    flex-direction: column;\n  }\n"]);return Pe=function(){return e},e}var Je=f.a.div(Pe()),Ge=f.a.div(Ue()),_e=(f.a.div(We()),f.a.div(He())),Re=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={visibleStars:[]},n.getVisibleConstellations=function(){var e=n.calculateSideRealTime(),t="https://collect-the-stars.herokuapp.com/stars?latitude=".concat(n.props.lat,"&lstHours=").concat(e.lstHours);fetch(t).then(function(e){return e.json()}).then(function(e){n.setState({visibleStars:e})}).catch(function(e){return console.log("error:",e)})},n.updateCollectedStars=function(e){var t=sessionStorage.getItem("accessToken");console.log(t),console.log(e);var a={accessToken:t,constellation:e};if(n.state.collectedStars.includes(e)){console.log("constellation IS already in state.collectedStars");fetch("https://collect-the-stars.herokuapp.com/constellations/remove",{method:"PUT",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){n.setState({collectedStars:e.collectedStars})}).catch(function(e){return console.log("error:",e)})}else{console.log("constellation not already in state.collectedStars");fetch("https://collect-the-stars.herokuapp.com/constellations/add",{method:"PUT",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){n.setState({collectedStars:e.collectedStars})}).catch(function(e){return console.log("error:",e)})}},n.calculateSideRealTime=function(){var e=3.85+n.props.lng/360*24;e<0?e+=24:e>24&&(e-=24);var t=parseInt(e);return{lstHours:t}},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState({collectedStars:this.props.collectedStars||[]}),this.getVisibleConstellations()}},{key:"render",value:function(){var e=this;return this.state.visibleStars.length>0?r.a.createElement(Je,null,r.a.createElement(Ge,null,r.a.createElement(Ee,{numVisibleStars:this.state.visibleStars.length,numMissingStars:this.state.visibleStars.length-this.state.collectedStars.length}),this.props.isLoggedIn?r.a.createElement("div",null,r.a.createElement(Ie,{data:[88-this.state.collectedStars.length,this.state.collectedStars.length]}),r.a.createElement(Ne,null)):r.a.createElement("div",null)),r.a.createElement(_e,null,this.state.visibleStars.map(function(t){return r.a.createElement(Se,{constellation:t,key:t,collectedStars:e.state.collectedStars,onClick:e.updateCollectedStars})}))):r.a.createElement(Je,null,r.a.createElement("div",{className:"left"},"There are 88 recognised constellations in the night sky."),r.a.createElement("div",{className:"right"}))}}]),t}(a.Component),Ve=(a.Component,n(68));function Ye(){var e=Object(m.a)(['\n  height: 30px;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  align-items: center;\n  background-color: #EFEFEF;\n  z-index: 2px;\n  a {\n    font-family: "Space Mono", sans-serif;\n    color: black;\n    text-decoration: none;\n    &:active {\n      border: 1px solid black;\n    }\n  }\n']);return Ye=function(){return e},e}var Be=f.a.div(Ye()),Ke=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(Be,null,r.a.createElement(Ve.a,{to:"/"},"Home"),r.a.createElement(Ve.a,{to:"/location"},"Location"),r.a.createElement(Ve.a,{to:"/stars"},"Stars"))}}]),t}(a.Component),Xe=(n(65),function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isLoggedIn:!1,collectedStars:[],lng:18.06324,lat:59.334591},n.updateCoords=function(e,t){n.setState({lat:e,lng:t})},n.checkLogInStatus=function(e,t){n.setState({isLoggedIn:e,collectedStars:t})},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.state.isLoggedIn||sessionStorage.removeItem("accessToken")}},{key:"render",value:function(){var e=this;return r.a.createElement(d.a,null,r.a.createElement("div",null,r.a.createElement(h.a,{exact:!0,path:"/",render:function(t){return r.a.createElement(Z,Object.assign({},t,{onLogin:e.checkLogInStatus}))}}),r.a.createElement(h.a,{exact:!0,path:"/location",render:function(t){return r.a.createElement(xe,Object.assign({},t,{lat:e.state.lat,lng:e.state.lng,updateCoords:e.updateCoords}))}}),r.a.createElement(h.a,{exact:!0,path:"/stars",render:function(t){return r.a.createElement(Re,Object.assign({},t,{lat:e.state.lat,lng:e.state.lng,collectedStars:e.state.collectedStars,isLoggedIn:e.state.isLoggedIn}))}}),r.a.createElement(Ke,null)))}}]),t}(a.Component));i.a.render(r.a.createElement(Xe,null),document.getElementById("root"))}},[[39,2,1]]]);
//# sourceMappingURL=main.155c6370.chunk.js.map